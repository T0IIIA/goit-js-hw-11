{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export { createMarkup };\n\n//----------------------------------\n\nfunction createMarkup(arr) {\n  return arr.map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) =>\n      `<li class=\"gallery-item\">\n\n        <a class=\"gallery-link\" href=\"${largeImageURL}\">\n        <img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\"/>\n        </a>\n\n        <ul class=\"info\">\n          <li class=\"info-item\"> <b>Likes</b> ${likes} </li>\n          <li class=\"info-item\"> <b>Views</b> ${views} </li>\n          <li class=\"info-item\"> <b>Comments</b> ${comments} </li>\n          <li class=\"info-item\"> <b>Downloads</b> ${downloads} </li>\n        </ul>\n\n      </li>`).join('');\n  }\n\n\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n\n\n\n\n\n\n\n\n\n\n\n\n","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\"\nimport { createMarkup } from './render-functions.js';\nexport { getImages }\n\nconst imageGallery = document.querySelector('.gallery');\n\n//----------------------------------\n\nfunction getImages(imageName) {\n  const BASE_URL = 'https://pixabay.com/api/';\n  const params = new URLSearchParams({\n    key: '44085737-801aedd726c9c1496368a8656',\n    q: imageName,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true\n  })\n\n  const url = `${BASE_URL}?${params}`;\n\n  return fetch(url)\n    .then(res => {\n      if (!res.ok) {\n        throw new Error(res.statusText);\n      }\n      return res.json();\n    })\n    .then(data => {\n      if (data.hits.length === 0) {\n      return iziToast.error({ ...errorParams });\n      }\n\n      const markup = createMarkup(data.hits);\n      imageGallery.innerHTML = markup;\n    })\n    .catch(error => console.log(error))\n}\n\n//------------------iziToast params----------------\n\nconst errorParams = {\n  position: 'topRight',\n  timeout: 1800,\n  maxWidth: 300,\n  icon: 'none',\n  message: 'Sorry, there are no images matching your search query. Please try again!',\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n//----------------------------------\nimport { getImages } from './js/pixabay-api.js';\nconst searchForm = document.querySelector('.search-form');\n\n//----------------------------------\n\nlet imageName = '';\n\nsearchForm.addEventListener('input', (event) => {\n  imageName = event.target.value.trim();\n});\n\nsearchForm.addEventListener('submit', onSubmit);\nfunction onSubmit(event) {\n  event.preventDefault();\n  if (imageName === '') {\n    return;\n  }\n\n\n  getImages(imageName)\n\n  return event.target.reset();\n}\n\n\n//-----------------simpleBox-----------------\n\nlet galleryModal = new SimpleLightbox('.gallery gallery-link', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n"],"names":["createMarkup","arr","webformatURL","largeImageURL","tags","likes","views","comments","downloads","imageGallery","getImages","imageName","BASE_URL","params","url","res","data","iziToast","errorParams","markup","error","searchForm","event","onSubmit","SimpleLightbox"],"mappings":"6vBAIA,SAASA,EAAaC,EAAK,CACzB,OAAOA,EAAI,IAAI,CAAC,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,IACpF;AAAA;AAAA,wCAEkCL,CAAa;AAAA,0CACXD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA,gDAIpBC,CAAK;AAAA,gDACLC,CAAK;AAAA,mDACFC,CAAQ;AAAA,oDACPC,CAAS;AAAA;AAAA;AAAA,YAGjD,EAAE,KAAK,EAAE,CACrB,CCfA,MAAMC,EAAe,SAAS,cAAc,UAAU,EAItD,SAASC,EAAUC,EAAW,CAC5B,MAAMC,EAAW,2BACXC,EAAS,IAAI,gBAAgB,CACjC,IAAK,qCACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAEKG,EAAM,GAAGF,CAAQ,IAAIC,CAAM,GAEjC,OAAO,MAAMC,CAAG,EACb,KAAKC,GAAO,CACX,GAAI,CAACA,EAAI,GACP,MAAM,IAAI,MAAMA,EAAI,UAAU,EAEhC,OAAOA,EAAI,MACjB,CAAK,EACA,KAAKC,GAAQ,CACZ,GAAIA,EAAK,KAAK,SAAW,EACzB,OAAOC,EAAS,MAAM,CAAE,GAAGC,CAAa,CAAA,EAGxC,MAAMC,EAASnB,EAAagB,EAAK,IAAI,EACrCP,EAAa,UAAYU,CAC/B,CAAK,EACA,MAAMC,GAAS,QAAQ,IAAIA,CAAK,CAAC,CACtC,CAIA,MAAMF,EAAc,CAClB,SAAU,WACV,QAAS,KACT,SAAU,IACV,KAAM,OACN,QAAS,0EACX,EC1CMG,EAAa,SAAS,cAAc,cAAc,EAIxD,IAAIV,EAAY,GAEhBU,EAAW,iBAAiB,QAAUC,GAAU,CAC9CX,EAAYW,EAAM,OAAO,MAAM,KAAI,CACrC,CAAC,EAEDD,EAAW,iBAAiB,SAAUE,CAAQ,EAC9C,SAASA,EAASD,EAAO,CAEvB,GADAA,EAAM,eAAc,EAChBX,IAAc,GAKlB,OAAAD,EAAUC,CAAS,EAEZW,EAAM,OAAO,OACtB,CAKmB,IAAIE,EAAe,wBAAyB,CAC7D,aAAc,MACd,aAAc,GAChB,CAAC"}